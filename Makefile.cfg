
SRC_DIR = src
VER_FILE = $(SRC_DIR)/version.sh

DIST_NAME = \
  $(shell grep "_NAME=" $(VER_FILE) | awk -F\" '{print $$2}')
DIST_VERSION = \
  $(shell grep "_VERSION=" $(VER_FILE) | awk -F\" '{print $$2}')

LIB_TGT = $(SRC_DIR)/$(DIST_NAME)

LIB_SRC_CORE_LIST = \
  src/util.sh \
  src/util_list.sh \
  src/module.sh \
  src/cfg.sh \
  src/version.sh \
  src/info.sh \
  src/usage.sh \
  src/display.sh \
  src/roll.sh \
  src/log.sh \
  src/notif.sh \
  src/action.sh \
  src/appli.sh \
  src/module_this.sh \
  src/engine.sh

LIB_SRC_EXTRA_LIST = \
  src/job.sh \
  src/state.sh \
  src/prop_file.sh \
  src/net_cfg.sh \
  src/notif_sms_free.sh

LIB_SRC_LIST = \
  src/define.sh \
  $(LIB_SRC_CORE_LIST) \
  $(LIB_SRC_EXTRA_LIST)

EXTRA_DIST = ChangeLog TODO test/test.sh

EXTRA_CLEAN = test/*.log test/test.prop
